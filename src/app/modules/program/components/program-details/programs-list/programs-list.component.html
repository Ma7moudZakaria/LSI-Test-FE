<div class="list-group list-group_program-list">
    <div class="d-flex justify-content-between">
        <p class="mb-4">{{'PROGRAMS_LIST.PROGRAMS' | translate}}</p>
        <button class="cancel-btn" (click)="addPrgramPage()">
            {{'PROGRAMS_LIST.ADD_PROGRAM' | translate}}
          </button>
    </div>

    <app-search-input (searchTerm)="filterByNameSearchKey($event)"></app-search-input>

        <ng-container *ngIf="advancedSearch && programsbyAdvancedFilter">
          <div class=" row ">
            <ng-container *ngIf='programsbyAdvancedFilter.programTypes && programsbyAdvancedFilter.programTypes.length > 0'>

                <ng-container *ngFor="let item of programsbyAdvancedFilter.programTypes ;let i=index">
                    <div class="col-6" >
                    <div class="card_advanced_search">
                            <p class="mb-0">{{selectTypes(item) }}</p>
                    <img src="assets/images/feelings/close.svg" (click)='clearProgTypeFilter(item)'>

                   </div></div>
             </ng-container>

            </ng-container>

              <ng-container *ngIf='programsbyAdvancedFilter.name'>
                <div class="col-6" >
                    <div class="card_advanced_search">
                    <p class="mb-0">{{programsbyAdvancedFilter.name}}</p>
                    <img src="assets/images/feelings/close.svg" (click)='clearNameFilter()'>
                </div>
            </div>
            </ng-container>
            <ng-container *ngIf='programsbyAdvancedFilter.duration'>
                <div class="col-6" >
                    <div class="card_advanced_search">
                    <p class="mb-0">{{programsbyAdvancedFilter.duration}}
                    {{'PROGRAMS_LIST.DAY' | translate}}

                    </p>
                    <img src="assets/images/feelings/close.svg" (click)="clearDura()">
                </div>
            </div>
            </ng-container>

            <ng-container *ngIf=' programsbyAdvancedFilter.studentsCount'>
                <div class="col-6" >
                    <div class="card_advanced_search">
                    <p class="mb-0">{{programsbyAdvancedFilter.studentsCount}}  {{'PROGRAMS_LIST.STUDENT' | translate}}  </p>
                    <img src="assets/images/feelings/close.svg" (click)="clearStuNum()">
                </div>
            </div>
            </ng-container>

            <ng-container *ngIf=' programsbyAdvancedFilter.teachersCount'>
                <div class="col-6" >
                    <div class="card_advanced_search">
                    <p class="mb-0">{{programsbyAdvancedFilter.teachersCount}} {{'PROGRAMS_LIST.TEACHER' | translate}}  </p>
                    <img src="assets/images/feelings/close.svg" (click)="clearTechNum()">
                </div>
            </div>
            </ng-container>

            <ng-container *ngIf='programsbyAdvancedFilter.isAdmissionTest'>
                <div class="col-6" >
                    <div class="card_advanced_search">
                    <p class="mb-0"> {{'PROGRAMS_LIST.JOINING_EXAM' | translate}} </p>
                    <img src="assets/images/feelings/close.svg" (click)="clearTestFilter()">
                </div>
            </div>
            </ng-container>

            <ng-container *ngIf='programsbyAdvancedFilter.isPeriodicExam'>
                <div class="col-6" >
                    <div class="card_advanced_search">
                    <p class="mb-0"> {{'PROGRAMS_LIST.STAGE_EXAM' | translate}} </p>
                    <img src="assets/images/feelings/close.svg"  (click)="clearPeriodicExamFilter()">
                </div>
            </div>
            </ng-container>


            </div>

        </ng-container>



    <a class="advanced_search" (click)="ToggelAdvancSearch()">
        {{'PROGRAMS_LIST.ADVANCED_SEARCH' | translate}}

    </a>
        <ng-container *ngIf="advancedSearch">
<!--                <div class="internal_scroll_list_group" >-->
<!--                <a class="list-group-item  d-flex" *ngFor="let program  of programsList; let i = index"-->
<!--                    [class.active]="selectedIndex === i"-->
<!--                    (click)="getProgramIdToProgramDetails(program);selectedIndex=i">-->
<!--                    <span>{{ translate.currentLang === langEnum.en ? program.enCatName : program.arCatName}}</span>-->

<!--                </a>-->
<!--                </div>-->
          <section class="internal_scroll_list_group">
            <div class="w-100 row contanier_matrial-card questionBank">
              <div class="col-lg-12 mb-3">
                <mat-accordion
                  cdkDropList
                  #unassignedList="cdkDropList"
                  [cdkDropListData]="categoriesList"
                  [cdkDropListConnectedTo]="[items1]"
                >
                  <mat-expansion-panel cdkDrag *ngFor="let category of categoriesList; let i = index;"
                                       (opened)="setOpened(i)" (closed)="setClosed(i)">

                    <mat-expansion-panel-header (click)="loadProgramsCategory(category.progId)">

                      <mat-panel-title class="qestionHeader">

                        <div class="col span_question" >
                                    <span>
                                        {{this.translate.currentLang===langEnum.en? category.enCatName : category.arCatName}}
                                    </span>
                        </div>

                        <div class="col-.5  chicx_box">
                          <label class="switch">
<!--                            <input type="checkbox" (change)="onCheckboxChange(QBQ)" [(ngModel)]="QBQ.isActive" >-->
                            <span class="slider round"></span>
                          </label>
<!--                          <a (click)="confirmDialog(QBQ.id)" > <i class="far fa-trash-alt"></i></a>-->

<!--                          <a (click)="loadProgramsCategory(category.id)">-->
                            <img src="../../../../../../assets/images/Icon feather-edit-3.svg">
<!--                          </a>-->


                        </div>
                      </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div *ngFor="let program of programsList; let i = index;">
                    <p class="p_answer"> {{program.progName}}</p>
                    </div>
                  </mat-expansion-panel>
                </mat-accordion>
              </div>
<!--              <div *ngIf="resultMessage" class="alert alert-{{ resultMessage.type }} col-lg-12 my-4 py-2" >-->
<!--                {{resultMessage.message}}-->
<!--              </div>-->
            </div>
          </section>
        </ng-container>

         <ng-container *ngIf="!advancedSearch">
                <div class="internal_scroll_list_group">
                   <div  class="form-group advancedSearchForm">
                       <div class="form-group">
                        <label  class="label">
                            {{'PROGRAMS_LIST.PROGRAM_TYPE' | translate}}
                        </label>
                        <!-- (change)='addProgTypeToList(item, $event)' [checked]="progTypeChecked(item)" -->

                        <ng-container *ngFor="let item of collectionOfLookup.PROG_TYPES ;let i=index">
                            <mat-checkbox   (change)='addProgTypeToList(item, $event)' [checked]="progTypeChecked(item)"
                              class="example-margin mx-3 "
                           >
                           {{ translate.currentLang == langEnum.en ? item.nameEn :
                            item.nameAr}}
                            </mat-checkbox>
                        </ng-container>

                       </div>
                       <div class="form-group">
                        <label  class="label">
                            {{'PROGRAMS_LIST.PROGRAM_NAME' | translate}}


                        </label>
                        <input type="text" class="form-control w-100" [(ngModel)]="programsbyAdvancedFilter.name">

                       </div>
                       <div class="form-group">
                        <label  class="label">
                            {{'PROGRAMS_LIST.PROGRAM_DATE' | translate}}


                        </label>
                        <input type="text" class="form-control w-100" [(ngModel)]="programsbyAdvancedFilter.duration">

                       </div>
                       <div class="form-group">
                        <label  class="label">
                            {{'PROGRAMS_LIST.STUDENT_NUMBER' | translate}}

                        </label>
                        <input type="text" class="form-control w-100"  [(ngModel)]="programsbyAdvancedFilter.studentsCount">

                       </div>
                       <div class="form-group">
                        <label  class="label">
                            {{'PROGRAMS_LIST.TEACHER_NUMBER' | translate}}

                        </label>
                        <input type="text" class="form-control w-100" [(ngModel)]="programsbyAdvancedFilter.teachersCount">

                       </div>

                       <div class="form-group">
                        <label  class="label">
                            {{'PROGRAMS_LIST.THE_EXAM' | translate}}


                        </label>
                        <mat-checkbox
                        class="example-margin mx-2 " [(ngModel)]="programsbyAdvancedFilter.isAdmissionTest">
                        {{'PROGRAMS_LIST.JOINING_EXAM' | translate}}


                      </mat-checkbox>
                      <mat-checkbox
                      class="example-margin mx-2 " [(ngModel)]="programsbyAdvancedFilter.isPeriodicExam">

                      {{'PROGRAMS_LIST.STAGE_EXAM' | translate}}

                    </mat-checkbox>


                       </div>
                       <div class="d-flex">
                        <button class="cancel-btn " (click)="submitSearch()">
                            {{'GENERAL.SEARCH' | translate}}
                          </button>
                          <button class="btn_replay " (click)="resetSearch()" >
                           RE
                          </button>
                       </div>


                   </div>
                    </div>
          </ng-container>

</div>
